# 📊 Markdown 表格模式使用指南

## 🚀 快速开始

### 安装和配置
表格模式插件 `vim-table-mode` 已经配置完成，支持以下功能：

### 🔧 快捷键

| 快捷键 | 功能 | 描述 |
|--------|------|------|
| `<leader>tm` | 切换表格模式 | 开启/关闭表格模式 |
| `<leader>tr` | 重新对齐表格 | 自动对齐当前表格 |
| `<leader>tt` | 转换为表格 | 将选中文本转换为表格 |
| `<leader>mt` | TOC 生成 | 生成/更新目录 |

## 📝 使用方法

### 1. 开启表格模式
```
<leader>tm  # 开启表格模式
```

### 2. 创建表格
开启表格模式后，输入：
```
| 列1 | 列2 | 列3 |
```
按回车，插件会自动创建表格分隔线：
```
| 列1 | 列2 | 列3 |
|----|----|----|
```

### 3. 自动对齐
继续输入数据：
```
| 名字 | 年龄 | 城市 |
|----|----|----| 
| 张三 | 25 | 北京 |
| 李四 | 30 | 上海 |
```

表格模式会自动对齐：
```
| 名字 | 年龄 | 城市 |
|------|------|------|
| 张三 | 25   | 北京 |
| 李四 | 30   | 上海 |
```

### 4. 表格导航
在表格模式下：
- `Tab`: 移动到下一个单元格
- `Shift+Tab`: 移动到上一个单元格
- `Enter`: 在当前行下方插入新行

### 5. 表格操作
- `<leader>tr`: 重新对齐表格
- `||`: 插入表头分隔线
- `|<Space>`: 在当前位置插入列

### 6. 文本转表格
选中以逗号或制表符分隔的文本，使用 `<leader>tt` 转换为表格。

例如，选中：
```
姓名,年龄,城市
张三,25,北京
李四,30,上海
```

转换后：
```
| 姓名 | 年龄 | 城市 |
|------|------|------|
| 张三 | 25   | 北京 |
| 李四 | 30   | 上海 |
```

## 🎯 高级功能

### 表格对齐
使用 `:` 设置列对齐：
```
| 左对齐 | 居中 | 右对齐 |
|:-------|:----:|-------:|
| 内容   | 内容  |   内容 |
```

### 表格公式 (可选)
vim-table-mode 支持简单的表格公式计算。

## 🔄 与其他功能的集成

### TOC 生成
- `<leader>mt`: 生成/更新目录
- `<leader>mi`: 插入目录
- `<leader>mu`: 更新目录
- `<leader>mr`: 删除目录

### Markdown 预览
- `<leader>mp`: 切换 Marp 预览
- 表格在预览中会正确渲染

## 💡 使用技巧

1. **快速创建**: 开启表格模式后，只需输入 `|` 开头的行
2. **自动格式化**: 每次编辑后表格会自动对齐
3. **批量转换**: 选中 CSV 数据后使用 `<leader>tt` 快速转表格
4. **关闭模式**: 完成编辑后使用 `<leader>tm` 关闭表格模式

## 🛠️ 故障排除

如果表格模式不工作：
1. 确保在 Markdown 文件中 (`.md` 扩展名)
2. 重启 Neovim 让插件生效
3. 运行 `:checkhealth` 检查插件状态
4. 使用 `:Lazy sync` 确保插件已安装

---

现在你可以在 Markdown 文件中轻松创建和编辑表格了！🎉

